langcode: en
status: true
dependencies:
  enforced:
    module:
      - par_migration
      - par_migration_scripts
id: par_migration_organisation_person
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - MS-SQL
migration_group: PAR2
label: 'PAR Migration of organisation people'
source:
  plugin: par_migration_organisation_person
process:
  type:
    plugin: default_value
    default_value: person
  uid:
    plugin: default_value
    default_value: 1
  salutation: title
  first_name: first_name
  last_name:
    plugin: skip_on_empty
    method: process
    source: last_name
  job_title:
    plugin: skip_on_empty
    method: process
    source: job_title
  work_phone:
    plugin: skip_on_empty
    method: process
    source: work_phone
  mobile_phone:
    plugin: skip_on_empty
    method: process
    source: mobile_phone
  email: email
  communication_phone:
    -
      plugin: skip_on_empty
      method: process
      source: work_phone_preferred
    -
      plugin: static_map
      map:
        'Y': true
        'N': false
        'null': false
  communication_mobile:
    -
      plugin: skip_on_empty
      method: process
      source: mobile_phone_preferred
    -
      plugin: static_map
      map:
        'Y': true
        'N': false
        'null': false
  communication_email:
    -
      plugin: skip_on_empty
      method: process
      source: email_preferred
    -
      plugin: static_map
      map:
        'Y': true
        'N': false
        'null': false
  communication_notes: communication_notes
destination:
  plugin: 'entity:par_data_person'
migration_dependencies: {  }
