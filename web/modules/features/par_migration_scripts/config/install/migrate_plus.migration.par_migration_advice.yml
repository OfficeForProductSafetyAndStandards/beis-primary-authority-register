langcode: en
status: true
dependencies:
  enforced:
    module:
      - par_migration
      - par_migration_scripts
id: par_migration_advice
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - MS-SQL
migration_group: PAR2
label: 'PAR Migration of advice'
source:
  plugin: par_migration_advice
process:
  document_type:
    plugin: default_value
    default_value: Advice
  id: advice_id
  type:
    plugin: default_value
    default_value: advice
  uid:
    plugin: default_value
    default_value: 1
  advice_type: advice_type
  notes: notes
  visible_authority: authority_visible
  visible_coordinator: coordinator_visible
  visible_business: business_visible
  document:
    -
      plugin: migration_lookup
      migration: par_migration_advice_documents
      no_stub: true
      source:
        document_id: null
        owning_object_type: '@document_type'
        owning_object_id: document_id
    -
      plugin: skip_on_empty
      method: row
destination:
  plugin: 'entity:par_data_advice'
migration_dependencies:
  required:
    - par_migration_advice_documents
